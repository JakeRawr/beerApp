<!DOCTYPE html>
<html>
<body>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

<p id="currentCity"></p>
<p id="temp"></p>
<p id="answer"></p>

<script>
'use strict';
var latitude;
var longitude;

$(document).ready(function(){
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(function (position) {
      latitude = position.coords.latitude;
      longitude = position.coords.longitude;
      $.ajax({
        type: "POST",
        url: "/",
        // The key needs to match your method's input parameter (case-sensitive).
        data: JSON.stringify({ "latitude": latitude,
                               "longitude": longitude}),
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        success: function (data) {
          $("#answer").html(function (){
            if (data.temp < 40) {
              return "YES";
            } else {
              return "NO";
            }
          }).css({"text-align": "center", "font-size" : "2000%"});
          $("#currentCity").html("Current City: " + data.currentCity).
          css({"text-align": "center", "font-size" : "50%"});
          $("#temp").html("Current Temperature: " + data.temp + "F").
          css({"text-align": "center", "font-size" : "50%"});
        }
      });
    });
  }
});
</script>

</body>
</html>
